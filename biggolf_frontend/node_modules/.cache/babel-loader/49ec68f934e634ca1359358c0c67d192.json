{"ast":null,"code":"/**\n * Archiver Vending\n *\n * @ignore\n * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}\n * @copyright (c) 2012-2014 Chris Talkington, contributors.\n */\nvar Archiver = require('./lib/core');\nvar formats = {};\n\n/**\n * Dispenses a new Archiver instance.\n *\n * @constructor\n * @param  {String} format The archive format to use.\n * @param  {Object} options See [Archiver]{@link Archiver}\n * @return {Archiver}\n */\nvar vending = function (format, options) {\n  return vending.create(format, options);\n};\n\n/**\n * Creates a new Archiver instance.\n *\n * @param  {String} format The archive format to use.\n * @param  {Object} options See [Archiver]{@link Archiver}\n * @return {Archiver}\n */\nvending.create = function (format, options) {\n  if (formats[format]) {\n    var instance = new Archiver(format, options);\n    instance.setFormat(format);\n    instance.setModule(new formats[format](options));\n    return instance;\n  } else {\n    throw new Error('create(' + format + '): format not registered');\n  }\n};\n\n/**\n * Registers a format for use with archiver.\n *\n * @param  {String} format The name of the format.\n * @param  {Function} module The function for archiver to interact with.\n * @return void\n */\nvending.registerFormat = function (format, module) {\n  if (formats[format]) {\n    throw new Error('register(' + format + '): format already registered');\n  }\n  if (typeof module !== 'function') {\n    throw new Error('register(' + format + '): format module invalid');\n  }\n  if (typeof module.prototype.append !== 'function' || typeof module.prototype.finalize !== 'function') {\n    throw new Error('register(' + format + '): format module missing methods');\n  }\n  formats[format] = module;\n};\n\n/**\n * Check if the format is already registered.\n * \n * @param {String} format the name of the format.\n * @return boolean\n */\nvending.isRegisteredFormat = function (format) {\n  if (formats[format]) {\n    return true;\n  }\n  return false;\n};\nvending.registerFormat('zip', require('./lib/plugins/zip'));\nvending.registerFormat('tar', require('./lib/plugins/tar'));\nvending.registerFormat('json', require('./lib/plugins/json'));\nmodule.exports = vending;","map":{"version":3,"names":["Archiver","require","formats","vending","format","options","create","instance","setFormat","setModule","Error","registerFormat","module","prototype","append","finalize","isRegisteredFormat","exports"],"sources":["C:/Users/Daniel/node_modules/appium/node_modules/archiver/index.js"],"sourcesContent":["/**\n * Archiver Vending\n *\n * @ignore\n * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}\n * @copyright (c) 2012-2014 Chris Talkington, contributors.\n */\nvar Archiver = require('./lib/core');\n\nvar formats = {};\n\n/**\n * Dispenses a new Archiver instance.\n *\n * @constructor\n * @param  {String} format The archive format to use.\n * @param  {Object} options See [Archiver]{@link Archiver}\n * @return {Archiver}\n */\nvar vending = function(format, options) {\n  return vending.create(format, options);\n};\n\n/**\n * Creates a new Archiver instance.\n *\n * @param  {String} format The archive format to use.\n * @param  {Object} options See [Archiver]{@link Archiver}\n * @return {Archiver}\n */\nvending.create = function(format, options) {\n  if (formats[format]) {\n    var instance = new Archiver(format, options);\n    instance.setFormat(format);\n    instance.setModule(new formats[format](options));\n\n    return instance;\n  } else {\n    throw new Error('create(' + format + '): format not registered');\n  }\n};\n\n/**\n * Registers a format for use with archiver.\n *\n * @param  {String} format The name of the format.\n * @param  {Function} module The function for archiver to interact with.\n * @return void\n */\nvending.registerFormat = function(format, module) {\n  if (formats[format]) {\n    throw new Error('register(' + format + '): format already registered');\n  }\n\n  if (typeof module !== 'function') {\n    throw new Error('register(' + format + '): format module invalid');\n  }\n\n  if (typeof module.prototype.append !== 'function' || typeof module.prototype.finalize !== 'function') {\n    throw new Error('register(' + format + '): format module missing methods');\n  }\n\n  formats[format] = module;\n};\n\n/**\n * Check if the format is already registered.\n * \n * @param {String} format the name of the format.\n * @return boolean\n */\nvending.isRegisteredFormat = function (format) {\n  if (formats[format]) {\n    return true;\n  }\n  \n  return false;\n};\n\nvending.registerFormat('zip', require('./lib/plugins/zip'));\nvending.registerFormat('tar', require('./lib/plugins/tar'));\nvending.registerFormat('json', require('./lib/plugins/json'));\n\nmodule.exports = vending;"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIA,QAAQ,GAAGC,OAAO,CAAC,YAAY,CAAC;AAEpC,IAAIC,OAAO,GAAG,CAAC,CAAC;;AAEhB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIC,OAAO,GAAG,UAASC,MAAM,EAAEC,OAAO,EAAE;EACtC,OAAOF,OAAO,CAACG,MAAM,CAACF,MAAM,EAAEC,OAAO,CAAC;AACxC,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACAF,OAAO,CAACG,MAAM,GAAG,UAASF,MAAM,EAAEC,OAAO,EAAE;EACzC,IAAIH,OAAO,CAACE,MAAM,CAAC,EAAE;IACnB,IAAIG,QAAQ,GAAG,IAAIP,QAAQ,CAACI,MAAM,EAAEC,OAAO,CAAC;IAC5CE,QAAQ,CAACC,SAAS,CAACJ,MAAM,CAAC;IAC1BG,QAAQ,CAACE,SAAS,CAAC,IAAIP,OAAO,CAACE,MAAM,CAAC,CAACC,OAAO,CAAC,CAAC;IAEhD,OAAOE,QAAQ;EACjB,CAAC,MAAM;IACL,MAAM,IAAIG,KAAK,CAAC,SAAS,GAAGN,MAAM,GAAG,0BAA0B,CAAC;EAClE;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACAD,OAAO,CAACQ,cAAc,GAAG,UAASP,MAAM,EAAEQ,MAAM,EAAE;EAChD,IAAIV,OAAO,CAACE,MAAM,CAAC,EAAE;IACnB,MAAM,IAAIM,KAAK,CAAC,WAAW,GAAGN,MAAM,GAAG,8BAA8B,CAAC;EACxE;EAEA,IAAI,OAAOQ,MAAM,KAAK,UAAU,EAAE;IAChC,MAAM,IAAIF,KAAK,CAAC,WAAW,GAAGN,MAAM,GAAG,0BAA0B,CAAC;EACpE;EAEA,IAAI,OAAOQ,MAAM,CAACC,SAAS,CAACC,MAAM,KAAK,UAAU,IAAI,OAAOF,MAAM,CAACC,SAAS,CAACE,QAAQ,KAAK,UAAU,EAAE;IACpG,MAAM,IAAIL,KAAK,CAAC,WAAW,GAAGN,MAAM,GAAG,kCAAkC,CAAC;EAC5E;EAEAF,OAAO,CAACE,MAAM,CAAC,GAAGQ,MAAM;AAC1B,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACAT,OAAO,CAACa,kBAAkB,GAAG,UAAUZ,MAAM,EAAE;EAC7C,IAAIF,OAAO,CAACE,MAAM,CAAC,EAAE;IACnB,OAAO,IAAI;EACb;EAEA,OAAO,KAAK;AACd,CAAC;AAEDD,OAAO,CAACQ,cAAc,CAAC,KAAK,EAAEV,OAAO,CAAC,mBAAmB,CAAC,CAAC;AAC3DE,OAAO,CAACQ,cAAc,CAAC,KAAK,EAAEV,OAAO,CAAC,mBAAmB,CAAC,CAAC;AAC3DE,OAAO,CAACQ,cAAc,CAAC,MAAM,EAAEV,OAAO,CAAC,oBAAoB,CAAC,CAAC;AAE7DW,MAAM,CAACK,OAAO,GAAGd,OAAO"},"metadata":{},"sourceType":"script"}